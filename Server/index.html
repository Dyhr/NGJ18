<!DOCTYPE "html">
<html>
<head>
<title>Game Controller</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script>
function makeid() {
  var text = "";
  var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

  for (var i = 0; i < 8; i++)
    text += possible.charAt(Math.floor(Math.random() * possible.length));

  return text;
}

function click(name){
  console.log(name + " clicked");
}

var myId = makeid();
</script>

<style>
body {
  background-color: #121212;
}
.round-button {
    height: 12vw;
    width: 12vw;
    padding-bottom: 10%;
    border-radius: 50%;
    border: 2px solid #f5f5f5;
    overflow: hidden;
    background: #464646;
    box-shadow: 0 0 3px gray;
}
.round-button:hover {
    background: #262626;
}
.round-button img {
    display: block;
    width: 76%;
    padding: 12%;
    height: auto;
}
.namefield {
  margin-top: 4vw;
  width: 80%;
}
</style>
</head>

<body>

<div class="row join">
  <div class="col-xs-2"></div>
  <div class="col-xs-4"><input class="namefield" type='text' maxlength="6"></input></div>
  <div class="col-xs-4"><button class="round-button" id="join"></button></div>
  <div class="col-xs-2"></div>
</div>

<div class="row controls">
  <div class="col-xs-12">Your ID is <script>document.write(myId);</script></div>
</div>
<div class="row controls">
  <div class="col-xs-2"></div>
  <div class="col-xs-2"><button class="round-button" id="up" /></div>
  <div class="col-xs-8"></div>
</div>
<div class="row controls">
  <div class="col-xs-2"><button class="round-button" id="left" /></div>
  <div class="col-xs-2"></div>
  <div class="col-xs-2"><button class="round-button" id="right" /></div>
  <div class="col-xs-1"></div>
  <div class="col-xs-2"><button class="round-button" id="a" /></div>
  <div class="col-xs-1"></div>
  <div class="col-xs-2"><button class="round-button" id="b" /></div>
</div>
<div class="row controls">
  <div class="col-xs-2"></div>
  <div class="col-xs-2"><button class="round-button" id="down" /></div>
  <div class="col-xs-8"></div>
</div>

<script>
$(".controls").css('display','none');
$("#join").mousedown(function(){
  $(".controls").css('display','block');
  $(".join").css('display','none');
  $.post("action/", {
    type: "join",
    id: myId,
    name: $(".namefield").val(),
  });
});
$(".round-button").mousedown(function(){
  $.post("action/", {
    type: "button",
    id: myId,
    name: $(this).attr("id"),
  });
});
</script>

</body>
</html>
